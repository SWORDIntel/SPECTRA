2025-07-31 14:20:50,843 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:50,947 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:51,043 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:51,134 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:52,704 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:52,805 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:52,901 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:52,911 [ERROR] tgarchive.file_sorter: Error updating category stats for test.pdf: [Errno 2] No such file or directory: 'test.pdf'
2025-07-31 14:20:52,914 [ERROR] tgarchive.file_sorter: Error updating category stats for test.jpg: [Errno 2] No such file or directory: 'test.jpg'
2025-07-31 14:20:52,916 [ERROR] tgarchive.file_sorter: Error getting MIME type for test.unknown: test error
2025-07-31 14:20:52,916 [ERROR] tgarchive.file_sorter: Error updating category stats for test.unknown: [Errno 2] No such file or directory: 'test.unknown'
2025-07-31 14:20:53,020 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:53,071 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='140265803385408'>
2025-07-31 14:20:53,088 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:53,092 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,098 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:53,100 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: filename
2025-07-31 14:20:53,100 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,105 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:53,128 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='140265792533232'>
2025-07-31 14:20:53,133 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:53,134 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,143 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:53,144 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: time
2025-07-31 14:20:53,144 [INFO] tgarchive.forwarding.AttachmentForwarder: Grouping time window: 60 seconds
2025-07-31 14:20:53,145 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,149 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:53,162 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='140265792698320'>
2025-07-31 14:20:53,167 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:53,167 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,172 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:53,184 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:20:53,275 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:53,277 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:20:53,277 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,278 [INFO] tgarchive.forwarding.SortingForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:53,291 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpitftjvv3/MagicMock/doc1.pdf.name/140265792580704: [Errno 2] No such file or directory: '/tmp/tmpitftjvv3/MagicMock/doc1.pdf.name/140265792580704'
2025-07-31 14:20:53,291 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpitftjvv3/MagicMock/doc1.pdf.name/140265792580704: [Errno 2] No such file or directory: '/tmp/tmpitftjvv3/MagicMock/doc1.pdf.name/140265792580704'
2025-07-31 14:20:53,303 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpitftjvv3/MagicMock/archive1.zip.name/140265792584256: [Errno 2] No such file or directory: '/tmp/tmpitftjvv3/MagicMock/archive1.zip.name/140265792584256'
2025-07-31 14:20:53,303 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpitftjvv3/MagicMock/archive1.zip.name/140265792584256: [Errno 2] No such file or directory: '/tmp/tmpitftjvv3/MagicMock/archive1.zip.name/140265792584256'
2025-07-31 14:20:53,313 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpitftjvv3/MagicMock/readme.txt.name/140265803616848: [Errno 2] No such file or directory: '/tmp/tmpitftjvv3/MagicMock/readme.txt.name/140265803616848'
2025-07-31 14:20:53,313 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpitftjvv3/MagicMock/readme.txt.name/140265803616848: [Errno 2] No such file or directory: '/tmp/tmpitftjvv3/MagicMock/readme.txt.name/140265803616848'
2025-07-31 14:20:53,325 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:20:53,416 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:53,418 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:53,419 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,420 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:53,431 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:20:53,516 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:53,518 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:53,518 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,519 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:53,537 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:20:53,537 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,539 [ERROR] tgarchive.forwarding.SortingForwarder: Error loading existing file hashes: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 141, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-31 14:20:53,549 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:20:53,549 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:20:53,550 [ERROR] tgarchive.forwarding.SortingForwarder: Error loading existing file hashes: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 141, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-31 14:20:53,645 [INFO] spectra_004_db: DB ready at test.db
