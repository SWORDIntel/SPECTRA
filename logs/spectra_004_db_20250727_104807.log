2025-07-27 10:48:07,764 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:07,785 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:07,807 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:07,831 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:07,854 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:07,878 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:07,901 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:07,904 [ERROR] tgarchive.file_sorter: Error updating category stats for test.pdf: [Errno 2] No such file or directory: 'test.pdf'
2025-07-27 10:48:07,905 [ERROR] tgarchive.file_sorter: Error updating category stats for test.jpg: [Errno 2] No such file or directory: 'test.jpg'
2025-07-27 10:48:07,907 [ERROR] tgarchive.file_sorter: Error getting MIME type for test.unknown: test error
2025-07-27 10:48:07,907 [ERROR] tgarchive.file_sorter: Error updating category stats for test.unknown: [Errno 2] No such file or directory: 'test.unknown'
2025-07-27 10:48:07,930 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:07,946 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139762221734256'>
2025-07-27 10:48:07,950 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:48:07,951 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:07,952 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:07,953 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:07,958 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139762205377744'>
2025-07-27 10:48:07,959 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:48:07,960 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:07,961 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:07,961 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:07,966 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139762205269344'>
2025-07-27 10:48:07,968 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:48:07,968 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:07,969 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:07,970 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:07,970 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: filename
2025-07-27 10:48:07,970 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:07,971 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:07,971 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:07,977 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139762204987312'>
2025-07-27 10:48:07,978 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:48:07,978 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:07,979 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:07,980 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:07,980 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: time
2025-07-27 10:48:07,980 [INFO] tgarchive.forwarding.AttachmentForwarder: Grouping time window: 60 seconds
2025-07-27 10:48:07,980 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:07,981 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:07,982 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:07,986 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139762177615840'>
2025-07-27 10:48:07,988 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:48:07,988 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:07,989 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:07,989 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:07,993 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-27 10:48:08,017 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:08,018 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-27 10:48:08,018 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-27 10:48:08,019 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:08,019 [INFO] tgarchive.forwarding.SortingForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:08,023 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpye0pp0yu/MagicMock/doc1.pdf.name/139762205594336: [Errno 2] No such file or directory: '/tmp/tmpye0pp0yu/MagicMock/doc1.pdf.name/139762205594336'
2025-07-27 10:48:08,024 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpye0pp0yu/MagicMock/doc1.pdf.name/139762205594336: [Errno 2] No such file or directory: '/tmp/tmpye0pp0yu/MagicMock/doc1.pdf.name/139762205594336'
2025-07-27 10:48:08,027 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpye0pp0yu/MagicMock/archive1.zip.name/139762177289072: [Errno 2] No such file or directory: '/tmp/tmpye0pp0yu/MagicMock/archive1.zip.name/139762177289072'
2025-07-27 10:48:08,027 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpye0pp0yu/MagicMock/archive1.zip.name/139762177289072: [Errno 2] No such file or directory: '/tmp/tmpye0pp0yu/MagicMock/archive1.zip.name/139762177289072'
2025-07-27 10:48:08,029 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpye0pp0yu/MagicMock/readme.txt.name/139762177375744: [Errno 2] No such file or directory: '/tmp/tmpye0pp0yu/MagicMock/readme.txt.name/139762177375744'
2025-07-27 10:48:08,029 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpye0pp0yu/MagicMock/readme.txt.name/139762177375744: [Errno 2] No such file or directory: '/tmp/tmpye0pp0yu/MagicMock/readme.txt.name/139762177375744'
2025-07-27 10:48:08,033 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-27 10:48:08,055 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:08,056 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:48:08,056 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:08,057 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:08,057 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:08,061 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-27 10:48:08,083 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:48:08,084 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:48:08,084 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:48:08,085 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:08,085 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:48:08,090 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-27 10:48:08,090 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-27 10:48:08,090 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:08,090 [ERROR] tgarchive.forwarding.SortingForwarder: Failed to load existing message hashes from database: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 156, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-27 10:48:08,094 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-27 10:48:08,094 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-27 10:48:08,094 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:48:08,095 [ERROR] tgarchive.forwarding.SortingForwarder: Failed to load existing message hashes from database: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 156, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-27 10:48:08,120 [INFO] spectra_004_db: DB ready at test.db
