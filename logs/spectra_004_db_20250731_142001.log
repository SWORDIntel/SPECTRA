2025-07-31 14:20:02,268 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:02,305 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:02,339 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:02,372 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:02,858 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:02,889 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:02,924 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:02,929 [ERROR] tgarchive.file_sorter: Error updating category stats for test.pdf: [Errno 2] No such file or directory: 'test.pdf'
2025-07-31 14:20:02,929 [ERROR] tgarchive.file_sorter: Error updating category stats for test.jpg: [Errno 2] No such file or directory: 'test.jpg'
2025-07-31 14:20:02,930 [ERROR] tgarchive.file_sorter: Error getting MIME type for test.unknown: test error
2025-07-31 14:20:02,930 [ERROR] tgarchive.file_sorter: Error updating category stats for test.unknown: [Errno 2] No such file or directory: 'test.unknown'
2025-07-31 14:20:02,964 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:03,025 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139928428528464'>
2025-07-31 14:20:03,030 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:03,031 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,032 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,038 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139928428528320'>
2025-07-31 14:20:03,039 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:03,039 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,040 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,048 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139928109520496'>
2025-07-31 14:20:03,049 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:03,049 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,050 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,051 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: filename
2025-07-31 14:20:03,051 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,052 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,057 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139928109173696'>
2025-07-31 14:20:03,058 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:03,059 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,060 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,060 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: time
2025-07-31 14:20:03,060 [INFO] tgarchive.forwarding.AttachmentForwarder: Grouping time window: 60 seconds
2025-07-31 14:20:03,060 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,061 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,065 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139928667865456'>
2025-07-31 14:20:03,066 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:03,066 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,067 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,070 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:20:03,103 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:03,104 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:20:03,104 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,104 [INFO] tgarchive.forwarding.SortingForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,108 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpdoccqyge/MagicMock/doc1.pdf.name/139928119966848: [Errno 2] No such file or directory: '/tmp/tmpdoccqyge/MagicMock/doc1.pdf.name/139928119966848'
2025-07-31 14:20:03,108 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpdoccqyge/MagicMock/doc1.pdf.name/139928119966848: [Errno 2] No such file or directory: '/tmp/tmpdoccqyge/MagicMock/doc1.pdf.name/139928119966848'
2025-07-31 14:20:03,111 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpdoccqyge/MagicMock/archive1.zip.name/139928438135296: [Errno 2] No such file or directory: '/tmp/tmpdoccqyge/MagicMock/archive1.zip.name/139928438135296'
2025-07-31 14:20:03,111 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpdoccqyge/MagicMock/archive1.zip.name/139928438135296: [Errno 2] No such file or directory: '/tmp/tmpdoccqyge/MagicMock/archive1.zip.name/139928438135296'
2025-07-31 14:20:03,114 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpdoccqyge/MagicMock/readme.txt.name/139928099396960: [Errno 2] No such file or directory: '/tmp/tmpdoccqyge/MagicMock/readme.txt.name/139928099396960'
2025-07-31 14:20:03,114 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpdoccqyge/MagicMock/readme.txt.name/139928099396960: [Errno 2] No such file or directory: '/tmp/tmpdoccqyge/MagicMock/readme.txt.name/139928099396960'
2025-07-31 14:20:03,118 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:20:03,148 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:03,149 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:03,149 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,149 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,155 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:20:03,189 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:20:03,190 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:20:03,190 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,190 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:20:03,194 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:20:03,194 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,194 [ERROR] tgarchive.forwarding.SortingForwarder: Error loading existing file hashes: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 141, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-31 14:20:03,245 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:20:03,245 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:20:03,246 [ERROR] tgarchive.forwarding.SortingForwarder: Error loading existing file hashes: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 141, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-31 14:20:03,286 [INFO] spectra_004_db: DB ready at test.db
