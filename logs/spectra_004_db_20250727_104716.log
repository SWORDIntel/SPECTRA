2025-07-27 10:47:16,876 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:16,906 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:16,935 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:16,960 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:16,981 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:17,003 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:17,031 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:17,035 [ERROR] tgarchive.file_sorter: Error updating category stats for test.pdf: [Errno 2] No such file or directory: 'test.pdf'
2025-07-27 10:47:17,036 [ERROR] tgarchive.file_sorter: Error updating category stats for test.jpg: [Errno 2] No such file or directory: 'test.jpg'
2025-07-27 10:47:17,037 [ERROR] tgarchive.file_sorter: Error getting MIME type for test.unknown: test error
2025-07-27 10:47:17,037 [ERROR] tgarchive.file_sorter: Error updating category stats for test.unknown: [Errno 2] No such file or directory: 'test.unknown'
2025-07-27 10:47:17,067 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:17,141 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139695332055600'>
2025-07-27 10:47:17,146 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:47:17,146 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,148 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,148 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,153 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139695302125104'>
2025-07-27 10:47:17,154 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:47:17,154 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,155 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,156 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,161 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139695302340304'>
2025-07-27 10:47:17,162 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:47:17,162 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,163 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,164 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,164 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: filename
2025-07-27 10:47:17,164 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,167 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,168 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,173 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139695300626480'>
2025-07-27 10:47:17,174 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:47:17,174 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,175 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,176 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,176 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: time
2025-07-27 10:47:17,176 [INFO] tgarchive.forwarding.AttachmentForwarder: Grouping time window: 60 seconds
2025-07-27 10:47:17,176 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,177 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,178 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,181 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='139695330471344'>
2025-07-27 10:47:17,182 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:47:17,183 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,184 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,184 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,188 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-27 10:47:17,212 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:17,213 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-27 10:47:17,213 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,215 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,215 [INFO] tgarchive.forwarding.SortingForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,219 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmplcxtzofe/MagicMock/doc1.pdf.name/139695301877712: [Errno 2] No such file or directory: '/tmp/tmplcxtzofe/MagicMock/doc1.pdf.name/139695301877712'
2025-07-27 10:47:17,219 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmplcxtzofe/MagicMock/doc1.pdf.name/139695301877712: [Errno 2] No such file or directory: '/tmp/tmplcxtzofe/MagicMock/doc1.pdf.name/139695301877712'
2025-07-27 10:47:17,223 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmplcxtzofe/MagicMock/archive1.zip.name/139695300949824: [Errno 2] No such file or directory: '/tmp/tmplcxtzofe/MagicMock/archive1.zip.name/139695300949824'
2025-07-27 10:47:17,223 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmplcxtzofe/MagicMock/archive1.zip.name/139695300949824: [Errno 2] No such file or directory: '/tmp/tmplcxtzofe/MagicMock/archive1.zip.name/139695300949824'
2025-07-27 10:47:17,227 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmplcxtzofe/MagicMock/readme.txt.name/139695300998112: [Errno 2] No such file or directory: '/tmp/tmplcxtzofe/MagicMock/readme.txt.name/139695300998112'
2025-07-27 10:47:17,227 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmplcxtzofe/MagicMock/readme.txt.name/139695300998112: [Errno 2] No such file or directory: '/tmp/tmplcxtzofe/MagicMock/readme.txt.name/139695300998112'
2025-07-27 10:47:17,232 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-27 10:47:17,264 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:17,264 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:47:17,264 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,266 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,266 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,271 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-27 10:47:17,301 [INFO] spectra_004_db: DB ready at test.db
2025-07-27 10:47:17,302 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-27 10:47:17,302 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,303 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,303 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing message hashes into memory for deduplication.
2025-07-27 10:47:17,304 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-27 10:47:17,304 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,305 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,305 [ERROR] tgarchive.forwarding.SortingForwarder: Failed to load existing message hashes from database: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 156, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-27 10:47:17,309 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-27 10:47:17,309 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-27 10:47:17,310 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication table 'forwarded_messages' initialized successfully.
2025-07-27 10:47:17,310 [ERROR] tgarchive.forwarding.SortingForwarder: Failed to load existing message hashes from database: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 156, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-27 10:47:17,339 [INFO] spectra_004_db: DB ready at test.db
