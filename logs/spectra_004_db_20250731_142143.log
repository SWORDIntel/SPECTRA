2025-07-31 14:21:43,962 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:43,996 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,029 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,063 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,511 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,552 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,590 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,594 [ERROR] tgarchive.file_sorter: Error updating category stats for test.pdf: [Errno 2] No such file or directory: 'test.pdf'
2025-07-31 14:21:44,595 [ERROR] tgarchive.file_sorter: Error updating category stats for test.jpg: [Errno 2] No such file or directory: 'test.jpg'
2025-07-31 14:21:44,595 [ERROR] tgarchive.file_sorter: Error getting MIME type for test.unknown: test error
2025-07-31 14:21:44,595 [ERROR] tgarchive.file_sorter: Error updating category stats for test.unknown: [Errno 2] No such file or directory: 'test.unknown'
2025-07-31 14:21:44,636 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,654 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='140123711966912'>
2025-07-31 14:21:44,659 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:21:44,660 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,661 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,661 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: filename
2025-07-31 14:21:44,661 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,662 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,668 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='140123594286880'>
2025-07-31 14:21:44,669 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:21:44,669 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,672 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,672 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: time
2025-07-31 14:21:44,672 [INFO] tgarchive.forwarding.AttachmentForwarder: Grouping time window: 60 seconds
2025-07-31 14:21:44,672 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,673 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,677 [INFO] tgarchive.config_models: Configuration saved to <MagicMock spec='Path' id='140123594558496'>
2025-07-31 14:21:44,678 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:21:44,678 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,679 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,682 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:21:44,723 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,724 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:21:44,724 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,724 [INFO] tgarchive.forwarding.SortingForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,728 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpyl76oit6/MagicMock/doc1.pdf.name/140123594586112: [Errno 2] No such file or directory: '/tmp/tmpyl76oit6/MagicMock/doc1.pdf.name/140123594586112'
2025-07-31 14:21:44,728 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpyl76oit6/MagicMock/doc1.pdf.name/140123594586112: [Errno 2] No such file or directory: '/tmp/tmpyl76oit6/MagicMock/doc1.pdf.name/140123594586112'
2025-07-31 14:21:44,732 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpyl76oit6/MagicMock/archive1.zip.name/140123596935904: [Errno 2] No such file or directory: '/tmp/tmpyl76oit6/MagicMock/archive1.zip.name/140123596935904'
2025-07-31 14:21:44,732 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpyl76oit6/MagicMock/archive1.zip.name/140123596935904: [Errno 2] No such file or directory: '/tmp/tmpyl76oit6/MagicMock/archive1.zip.name/140123596935904'
2025-07-31 14:21:44,735 [ERROR] tgarchive.file_sorter: Error getting MIME type for /tmp/tmpyl76oit6/MagicMock/readme.txt.name/140123594075568: [Errno 2] No such file or directory: '/tmp/tmpyl76oit6/MagicMock/readme.txt.name/140123594075568'
2025-07-31 14:21:44,735 [ERROR] tgarchive.file_sorter: Error updating category stats for /tmp/tmpyl76oit6/MagicMock/readme.txt.name/140123594075568: [Errno 2] No such file or directory: '/tmp/tmpyl76oit6/MagicMock/readme.txt.name/140123594075568'
2025-07-31 14:21:44,740 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:21:44,779 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,780 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:21:44,780 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,780 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,784 [INFO] tgarchive.config_models: Loaded config from spectra_config.json
2025-07-31 14:21:44,822 [INFO] spectra_004_db: DB ready at test.db
2025-07-31 14:21:44,823 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:21:44,823 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,823 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,824 [INFO] tgarchive.config_models: Loaded config from <MagicMock id='140123594437984'>
2025-07-31 14:21:44,825 [INFO] tgarchive.forwarding.AttachmentForwarder: File grouping strategy: none
2025-07-31 14:21:44,825 [INFO] tgarchive.forwarding.AttachmentForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,826 [INFO] tgarchive.forwarding.AttachmentForwarder: Loaded 0 existing file content hashes (SHA256) into memory.
2025-07-31 14:21:44,829 [INFO] tgarchive.forwarding.AttachmentForwarder: Recorded forwarded file (Msg ID 1, SHA256: 54eb06f8ca...) to database.
2025-07-31 14:21:44,840 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:21:44,841 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,841 [ERROR] tgarchive.forwarding.SortingForwarder: Error loading existing file hashes: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 141, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-31 14:21:44,844 [INFO] tgarchive.forwarding.SortingForwarder: File grouping strategy: none
2025-07-31 14:21:44,844 [INFO] tgarchive.forwarding.SortingForwarder: Deduplication is ENABLED.
2025-07-31 14:21:44,845 [ERROR] tgarchive.forwarding.SortingForwarder: Error loading existing file hashes: 'Mock' object is not iterable
Traceback (most recent call last):
  File "/app/tgarchive/forwarding.py", line 141, in _load_existing_hashes
    for row in cursor:
               ^^^^^^
TypeError: 'Mock' object is not iterable
2025-07-31 14:21:44,885 [INFO] spectra_004_db: DB ready at test.db
